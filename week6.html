<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
      <link rel="stylesheet" href="week6.css">
</head>
<body>
  <div class="page">

    <!-- HEADER -->
    <header class="page-header">
      <h1 class="title"> N E T L I F Y & T A I L W I N D</h1>
      <div class="header-line"></div>
    </header>

    <!-- SIDEBAR + CONTENT -->
        <div class="layout">

      <aside class="sidebar">
        <nav class="week-nav">
          <a href="index.html" class="active">HOME</a>
          <a href="week1.html" class="week-link">STATION 1</a>
          <a href="week2.html" class="week-link">STATION 2</a>
          <a href="week3.html" class="week-link">STATION 3</a>
          <a href="week4.html" class="week-link">STATION 4</a>
          <a href="week5.html" class="week-link">STATION 5</a>
          <a href="week6.html" class="week-link">STATION 6</a>
          <a href="week7.html" class="week-link">STATION 7</a>
          <a href="week8.html" class="week-link">STATION 8</a>
          <a href="week9.html" class="week-link">STATION 9</a>
          <a href="contact.html" class="week-link">contact</a>
        </nav>
      </aside>

        <main class="content">
            <section class="intro">
                <p> </p>
                <p>Netlifly is een online platform waar je websites kunt hosten en beheren. Je kan je Github account koppelen aan Netlifly zodat je automatisch je website kan updaten wanneer je wijzigingen aanbrengt in je code op Github.Netlify is een cloudgebaseerd webplatform dat moderne webontwikkeling vereenvoudigt door het bouwen, implementeren en hosten van websites te automatiseren, met name statische sites en Jamstack-applicaties. Het maakt verbinding met Git-repositories, bouwt naadloos je site en implementeert deze wereldwijd via een CDN.
                    Tailwind is een ulitimate CSS framework die je helpt bij het snel ontwerpen van mooie en responsieve websites. Met tailwind kan je gebruik maken van vooraf gedefinieerde klassen om je HTML-elementen te stylen zonder dat je zelf CSS hoeft te schrijven. 
        
                </p>
            </section>
        </main>
    </div>
    </div>
  <!-- ✅ Train at bottom (same image you use) -->
  <div id="trainArea" aria-hidden="true">
    <img id="train" src="TRAIN.jpg"  alt="train">
  </div>

  <!-- ✅ JS: train first (2s) -> loader (1.5s) -> navigate -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
  const links = document.querySelectorAll(".week-link");
  const trainArea = document.getElementById("trainArea");
  const train = document.getElementById("train");

  let busy = false;

  function resetTrain() {
    if (!train) return;
    train.style.transition = "none";
    train.style.transform = "translateX(0px)";
    train.getBoundingClientRect(); // force reflow
  }

  function animateBottomTrain(durationMs = 2000) {
    return new Promise((resolve) => {
      if (!train || !trainArea) return resolve();

      resetTrain();

      const maxX = Math.max(0, trainArea.clientWidth - train.offsetWidth);
      train.style.transition = `transform ${durationMs}ms ease`;

      // fallback (in case transitionend doesn't fire)
      const fallback = setTimeout(resolve, durationMs + 80);

      const done = (ev) => {
        if (ev.propertyName !== "transform" && ev.propertyName !== "webkitTransform") return;
        clearTimeout(fallback);
        resolve();
      };

      train.addEventListener("transitionend", done, { once: true });

      requestAnimationFrame(() => {
        train.style.transform = `translateX(${maxX}px)`;
      });
    });
  }

  function showTrainLoader(durationMs = 2000) {
    return new Promise((resolve) => {
      let box = document.getElementById("miniTrainLoader");

      if (!box) {
        box = document.createElement("div");
        box.id = "miniTrainLoader";
        box.style.cssText = `
          position: fixed;
          left: 50%; top: 50%;
          transform: translate(-50%, -50%);
          z-index: 999999;
          background: rgba(255,255,255,0.95);
          border: 1px solid rgba(0,0,0,0.12);
          border-radius: 14px;
          padding: 16px 18px;
          display: none;
          pointer-events: none;
          text-align: center;
          box-shadow: 0 10px 30px rgba(0,0,0,0.12);
        `;

        const img = document.createElement("img");
        img.id = "miniTrainLoaderImg";
        img.alt = "Loading train";
        img.style.cssText = `
          width: 220px;
          max-width: 70vw;
          height: auto;
          display: block;
          margin: 0 auto;
        `;

        const txt = document.createElement("div");
        txt.textContent = "LOGBOOK...";
        txt.style.cssText = `
          margin-top: 10px;
          font-family: Arial, sans-serif;
          opacity: .7;
        `;

        box.appendChild(img);
        box.appendChild(txt);
        document.body.appendChild(box);
      }

      const img = document.getElementById("miniTrainLoaderImg");
      img.src = train?.src || "./ChatGPT Image 14 Ara 2025 15_02_57.png.jpg";

      box.style.display = "block";

      img.animate(
        [
          { transform: "translateX(-10px)" },
          { transform: "translateX(10px)" },
          { transform: "translateX(-10px)" }
        ],
        { duration: 500, iterations: Math.ceil(durationMs / 500) }
      );

      setTimeout(() => {
        box.style.display = "none";
        resolve();
      }, durationMs);
    });
  }

  links.forEach((link) => {
    link.addEventListener("click", async (e) => {
      e.preventDefault();
      if (busy) return;
      busy = true;

      const targetHref = link.getAttribute("href");

      await animateBottomTrain(2000);   // 1) train moves first (2s)
      await showTrainLoader(900);      // 2) then loader (2s)
      window.location.href = targetHref; // 3) go page
    });
  });

  window.addEventListener("pageshow", () => {
    busy = false;
    resetTrain();
  });
});
</script>
</body>

</div>
</body>

</html>
